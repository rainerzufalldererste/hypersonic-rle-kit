<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>hypersonic rle kit</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="main">
      <div class="header">
        <h1>hypersonic rle kit</h1>
        <h2>the fastest decoding run-length-encoding for x64</h2>
      </div>
      <div class="text">
        <ul>
            <li>Single Core Decompression Speeds > 33 GiB/s have been observed.</li>
            <li>Many different variants optimized for various scenarios.</li>
            <li>Written in C.</li>
            <li>SIMD Variants for AVX-512F, AVX2, AVX, SSSE3 and SSE2 are available for the decoder. Automatically picked by the en- & decoder based on the extensions available on the current platform.</li>
            <li>Specialized versions for various different scenarios. (Single RLE Symbol, Short Strings of RLE Symbol, 8 Bit, 16 Bit, 24 Bit, 32 Bit, 48 Bit, 64 Bit, 128 Bit)</li>
            <li>OpenCL variant available for some of the decoders.</li>
        </ul>
      </div>
      <script>
function reveal() {
  var reveals = document.querySelectorAll(".revealable");
  
  for (var i = 0; i < reveals.length; i++) {
    var windowHeight = window.innerHeight;
    var elementTop = reveals[i].getBoundingClientRect().top;
    var elementVisible = 150;
  
    if (elementTop < windowHeight - elementVisible) {
      reveals[i].classList.add("active");
    } else {
      reveals[i].classList.remove("active");
    }
  }
}

window.addEventListener("scroll", reveal);
      </script>
      <div class="tooltip_hidden" id="tooltip"><p><b id="tooltip_text">headline</b><b id="tooltip_pareto">pareto</b></p><p id="tooltip_sub1">text1</p><p id="tooltip_sub2">text2</p><p id="tooltip_sub3">text3</p></div>
      <script>
          function point(ctx, x, y, radius, fillStyle, strokeStyle, lineWidth) {
              ctx.beginPath();
              ctx.arc(x, y, radius, 0, 2 * Math.PI, false);
              ctx.fillStyle = fillStyle;
              ctx.fill();
              ctx.strokeStyle = strokeStyle;
              ctx.lineWidth = lineWidth;
              ctx.stroke();
          }

          function line(ctx, sX, sY, tX, tY, strokeStyle, lineWidth) {
              ctx.beginPath();
              ctx.moveTo(sX, sY);
              ctx.moveTo(tX, tY);
              ctx.strokeStyle = strokeStyle;
              ctx.lineWidth = lineWidth;
              ctx.stroke();
          }

          function init_obj(obj) {
            obj.minX = 0;
            obj.maxX = 0;
            obj.minY = 100;
            obj.maxY = 0;
            obj.points = [];
            obj.lines = [];
          }

          function add_point(obj, x, y, enc, label, isForeign = false) {
            if (x > obj.maxX) obj.maxX = x;
            if (y > obj.maxY) obj.maxY = y;
            if (x < obj.minX) obj.minX = x;
            if (y < obj.minY) obj.minY = y;

            obj.points[label] = { x: x, y: y, enc: enc, foreign: !!isForeign };
          }

          function add_line(obj, labels, color) {
            let points = [];

            for (let i = 0; i < labels.length; i++)
                points[points.length] = obj.points[labels[i]];

            obj.lines[obj.lines.length] = { points: points, color: color };
          }

          function transformX(obj, x, rangeX, offsetX) {
            return offsetX + (x - obj.minX) / rangeX;
          }

          function transformY(obj, y, rangeY, offsetY) {
            return offsetY + (y - obj.minY) / rangeY;
          }

          function draw_point(ctx, obj, p, rangeX, rangeY, offsetX, offsetY) {
            point(ctx, transformX(obj, p.x, rangeX, offsetX), transformY(obj, p.y, rangeY, offsetY), (p.isPareto == true ? 10 : 6) * window.devicePixelRatio, p.foreign ? "#333" : "#FFF", p.foreign ? "#777" : "#DDD", 2 * window.devicePixelRatio);
          }

          function draw_line(ctx, obj, l, rangeX, rangeY, offsetX, offsetY, lineWidth) {
            let points = l.points;

            ctx.beginPath();
            ctx.moveTo(transformX(obj, l.points[0].x, rangeX, offsetX), transformY(obj, l.points[0].y, rangeY, offsetY));
            
            for (let i = 1; i < points.length; i++)
                ctx.lineTo(transformX(obj, l.points[i].x, rangeX, offsetX), transformY(obj, l.points[i].y, rangeY, offsetY));

            ctx.strokeStyle = l.color;
            ctx.lineWidth = lineWidth * window.devicePixelRatio * (l.pareto == true ? 4 : 1);
            ctx.stroke();
          }

          function draw_label(ctx, obj, x, y, text, rangeX, rangeY, offsetX, offsetY, font, fillStyle) {
            ctx.font = font;
            ctx.fillStyle = fillStyle;
            ctx.fillText(text, transformX(obj, x, rangeX, offsetX), transformY(obj, y, rangeY, offsetY));
          }

          function calc_pareto_line(obj) {
            let points = [];
            let n = { x: 0, y: 0 };

            for (let p in obj.points) {
                if (obj.points[p].x > n.x)
                    n = obj.points[p];
            }

            let found = false;

            do {
                points[points.length] = n;
                n.isPareto = true;

                found = false;

                let last = n;
                n = { x: 0, y: 0 };

                for (let p in obj.points) {
                    if (obj.points[p].x > n.x && obj.points[p].y < last.y && obj.points[p].x < last.x) {
                        n = obj.points[p];
                        found = true
                    }
                }
            } while (found);

            obj.lines[obj.lines.length] = { points: points, color: "#AAFF2233", pareto: true };
          }

          function draw_obj(ctx, obj) {
            obj.width = obj.scrollWidth * 2;
            obj.height = obj.scrollHeight * 2;

            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            let borderX = 75;
            let borderY = 50;

            let topX = 50;
            let topY = 10;

            obj.minY = Math.floor(obj.minY / 10) * 10;
            
            let nativeYRange = obj.maxY - obj.minY;
            let stepY = Math.max(1, Math.floor(nativeYRange / 6));
            
            let nativeXRange = obj.maxX - obj.minX;
            let stepX = Math.max(1, Math.floor(nativeXRange / 9 / 500) * 500);

            let rangeX = (obj.maxX - obj.minX) / (obj.width - borderX);
            let rangeY = (obj.maxY - obj.minY) / (obj.height - borderY);
            
            // X Axis.
            for (let x = obj.minX; x <= obj.maxX; x += stepX) {
                draw_line(ctx, obj, { points: [{ y: obj.minY, x: x }, { y: obj.maxY, x: x }], color: x == obj.minX ? "#555" : "#333" }, rangeX, rangeY, topX, topY, x == obj.minX ? 4 : 2);
            }

            // Y Axis.
            for (let y = obj.minY; y <= obj.maxY; y += stepY) {
                draw_line(ctx, obj, { points: [{ x: obj.minX, y: y }, { x: obj.maxX, y: y }], color: y == obj.minY ? "#555" : "#333" }, rangeX, rangeY, topX, topY, y == obj.minY ? 4 : 2);
            }
            
            // X Axis.
            for (let x = obj.minX; x <= obj.maxX; x += stepX) {
                if (x > obj.minX) draw_label(ctx, obj, x, obj.minY, x + " MiB/s", rangeX, rangeY, topX, topY, (30 * window.devicePixelRatio) + "px monospace", "#888");
            }

            // Y Axis.
            for (let y = obj.minY; y <= obj.maxY; y += stepY) {
                if (y > obj.minY) draw_label(ctx, obj, obj.minX, y, y + "%", rangeX, rangeY, topX, topY, (30 * window.devicePixelRatio) + "px monospace", "#888");
            }

            for (i in obj.lines)
                draw_line(ctx, obj, obj.lines[i], rangeX, rangeY, topX, topY, 4);

            for (i in obj.points)
                draw_point(ctx, obj, obj.points[i], rangeX, rangeY, topX, topY);
          }

          function handle_mouseover(event, obj) {
            event = event || window.event;

            if (event.pageX == null && event.clientX != null) {
                var eventDoc = (event.target && event.target.ownerDocument) || document;
                var doc = eventDoc.documentElement;
                var body = eventDoc.body;

                event.pageX = event.clientX + (doc && doc.offsetLeft || body && body.offsetLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);
                event.pageY = event.clientY + (doc && doc.offsetTop  || body && body.offsetTop  || 0) - (doc && doc.clientTop  || body && body.clientTop  || 0);
            }

            var mouseX = event.pageX;
            var mouseY = event.pageY;
        
            if (obj.offsetTop <= mouseY && obj.offsetLeft <= mouseX && obj.offsetTop + obj.offsetHeight >= mouseY && obj.offsetLeft + obj.offsetWidth >= mouseX) {
                var internalX = (mouseX - obj.offsetLeft) * 2; // because the canvas is scaled internally by factor 2
                var internalY = (mouseY - obj.offsetTop) * 2; // because the canvas is scaled internally by factor 2

                var borderX = 75;
                var borderY = 50;

                var topX = 50;
                var topY = -15;

                var rangeX = (obj.maxX - obj.minX) / (obj.width - borderX);
                var rangeY = (obj.maxY - obj.minY) / (obj.height - borderY);

                function dist(x, y) {
                    let dx = transformX(obj, x, rangeX, topX) - internalX;
                    let dy = transformY(obj, y, rangeY, topY) - internalY;

                    return Math.sqrt(dx * dx + dy * dy);
                }

                var found = false;

                for (let p in obj.points) {
                    if (dist(obj.points[p].x, obj.points[p].y) <= 50 * window.devicePixelRatio) {
                        var tooltip = document.getElementById("tooltip");
                        tooltip.style.left = (mouseX + 20 * window.devicePixelRatio) + "px";
                        tooltip.style.top = mouseY + "px";
                        tooltip.className = "tooltip_visible";
                        document.getElementById("tooltip_text").innerText = p + (obj.points[p].foreign ? " (foreign codec)" : "");
                        document.getElementById("tooltip_sub1").innerText = "decoder throughput: " + obj.points[p].x + " MiB/s";
                        document.getElementById("tooltip_sub2").innerText = "encoder throughput: " + obj.points[p].enc + " MiB/s";
                        document.getElementById("tooltip_sub3").innerText = "compression ratio: " + obj.points[p].y + " %";
                        document.getElementById("tooltip_pareto").className = obj.points[p].isPareto == true ? "pareto" : "non_pareto";

                        found = true;
                        break;
                    }
                }

                if (!found) {
                    var tooltip = document.getElementById("tooltip");
                    tooltip.style.left = "0px";
                    tooltip.style.top = "0px";
                    tooltip.className = "tooltip_hidden";
                }
            }
          }
      </script>
      <hr/>
      <h2>benchmarks</h2>
      <div class="graph_container">
        <h3>video_frame.raw (heavily quantized video frame dcts)</h3>
        <canvas id="video_frame" class="chart"></canvas>
        <script>
            var obj = document.getElementById("video_frame");
            var ctx = obj.getContext("2d");
            ctx.scale(window.devicePixelRatio, window.devicePixelRatio);

            init_obj(obj);

            add_point(obj, 25731.9,  19.34,  3215.0, "8 Bit");
            add_point(obj, 19605.2,  17.95,  2906.3, "8 Bit Packed");
            add_point(obj, 15557.3,  17.41,  2122.9, "8 Bit 3 Sym LUT");
            add_point(obj,  8100.4,  16.49,  2085.6, "8 Bit 3 Sym LUT Short Range");

            add_point(obj, 23256.0,  18.31,  1648.2, "8 Bit Single");
            add_point(obj, 17315.5,  17.96,  1479.9, "8 Bit Packed Single");

            add_point(obj, 21953.2,  20.32,  2146.1, "16 Bit (Symbol Bound)");
            add_point(obj, 20009.2,  18.55,  1844.0, "16 Bit Packed (Symbol Bound)");
            add_point(obj, 22416.9,  20.10,  2036.8, "16 Bit (Byte Bound)");
            add_point(obj, 19366.7,  18.47,  1915.9, "16 Bit Packed (Byte Bound)");

            add_point(obj, 25460.9,  21.50,  2401.9, "24 Bit (Symbol Bound)");
            add_point(obj, 20685.2,  19.49,  2182.2, "24 Bit Packed (Symbol Bound)");
            add_point(obj, 24017.9,  20.80,  2471.3, "24 Bit (Byte Bound)");
            add_point(obj, 21006.0,  19.19,  2347.6, "24 Bit Packed (Byte Bound)");

            add_point(obj, 22918.0,  22.01,  2859.5, "32 Bit (Symbol Bound)");
            add_point(obj, 22783.7,  20.21,  2490.0, "32 Bit Packed (Symbol Bound)");
            add_point(obj, 23873.2,  21.39,  2802.9, "32 Bit (Byte Bound)");
            add_point(obj, 23569.8,  19.82,  2564.4, "32 Bit Packed (Byte Bound)");
            
            add_point(obj, 25692.0,  23.41,  3003.5, "48 Bit (Symbol Bound)");
            add_point(obj, 25859.7,  21.39,  2867.0, "48 Bit Packed (Symbol Bound)");
            add_point(obj, 26481.4,  22.66,  3329.7, "48 Bit (Byte Bound)");
            add_point(obj, 25920.9,  20.84,  3009.6, "48 Bit Packed (Byte Bound)");

            add_point(obj, 25516.4,  24.53,  3397.1, "64 Bit (Symbol Bound)");
            add_point(obj, 26375.4,  22.34,  2965.1, "64 Bit Packed (Symbol Bound)");
            add_point(obj, 25360.7,  23.66,  3497.4, "64 Bit (Byte Bound)");
            add_point(obj, 26063.4,  21.63,  2822.7, "64 Bit Packed (Byte Bound)");

            add_point(obj, 27173.0,  27.60,  2689.9, "128 Bit (Symbol Bound)");
            add_point(obj, 27761.3,  24.82,  3159.8, "128 Bit Packed (Symbol Bound)");
            add_point(obj, 27446.2,  26.46,  3424.4, "128 Bit (Byte Bound)");
            add_point(obj, 27795.2,  23.83,  3284.2, "128 Bit Packed (Byte Bound)");
            
            add_point(obj,  1676.7,  12.51,   332.0, "8 Bit RLE + Huffman-esque");
            add_point(obj,  3786.4,  21.05,  2921.2, "8 Bit MMTF 128");
            add_point(obj,  2690.6,  19.93,   800.2, "Low Entropy");
            add_point(obj,  4389.0,  19.96,   775.6, "Low Entropy Single");
            add_point(obj,  2805.3,  24.08,   809.5, "Low Entropy Short");
            add_point(obj,  5302.1,  24.11,   714.0, "Low Entropy Short Single");

            //add_point(obj,  3642.0, 100.00,  3352.0, "Multi MTF 128 Bit (Transform)");
            //add_point(obj,  5630.4, 100.00,  5472.6, "Multi MTF 256 Bit (Transform)");
            //add_point(obj, 28520.5, 100.00, 26572.3, "memcpy");

            add_point(obj,  4109.9, 16.0, 1124.6, "trle", true);
            add_point(obj,  9175.2, 17.8, 1107.6, "srle 0", true);
            add_point(obj,  9198.3, 18.7, 1801.2, "srle 8", true);
            add_point(obj, 10667.0, 21.3, 1649.2, "srle 16", true);
            add_point(obj, 14922.9, 24.2, 2950.6, "srle 32", true);
            add_point(obj, 20526.3, 27.5, 5003.2, "srle 64", true);
            add_point(obj,  2570.0, 19.7,  427.6, "mrle", true);

            let colors = ["#efe16d", "#ffc65f", "#ffaa60", "#ff8d6d", "#ff7382", "#fd609a", "#df58b2", "#b15ac7"];
            let alpha = "33";

            add_line(obj, ["8 Bit", "16 Bit (Symbol Bound)", "24 Bit (Symbol Bound)", "32 Bit (Symbol Bound)", "48 Bit (Symbol Bound)", "64 Bit (Symbol Bound)", "128 Bit (Symbol Bound)"], colors[0] + alpha);
            add_line(obj, ["8 Bit", "16 Bit (Byte Bound)", "24 Bit (Byte Bound)", "32 Bit (Byte Bound)", "48 Bit (Byte Bound)", "64 Bit (Byte Bound)", "128 Bit (Byte Bound)"], colors[1] + alpha);
            add_line(obj, ["8 Bit Packed", "16 Bit Packed (Symbol Bound)", "24 Bit Packed (Symbol Bound)", "32 Bit Packed (Symbol Bound)", "48 Bit Packed (Symbol Bound)", "64 Bit Packed (Symbol Bound)", "128 Bit Packed (Symbol Bound)"], colors[2] + alpha);
            add_line(obj, ["8 Bit Packed", "16 Bit Packed (Byte Bound)", "24 Bit Packed (Byte Bound)", "32 Bit Packed (Byte Bound)", "48 Bit Packed (Byte Bound)", "64 Bit Packed (Byte Bound)", "128 Bit Packed (Byte Bound)"], colors[3] + alpha);
            add_line(obj, ["Low Entropy", "Low Entropy Short"], colors[4] + alpha);
            add_line(obj, ["Low Entropy Single", "Low Entropy Short Single"], colors[5] + alpha);

            add_line(obj, ["srle 0", "srle 8", "srle 16", "srle 32", "srle 64"], "#55555533");

            calc_pareto_line(obj);

            window.addEventListener("resize", () => { draw_obj(document.getElementById("video_frame").getContext("2d"), document.getElementById("video_frame")); });
            window.addEventListener("load", () => { draw_obj(document.getElementById("video_frame").getContext("2d"), document.getElementById("video_frame")); });
            obj.addEventListener("mousemove", (e) => { handle_mouseover(e, document.getElementById("video_frame")); });
        </script>
      </div>
      <div class="graph_container">
        <h3>1034.db (checkers program &quot;end game table base&quot;)</h3>
        <canvas id="1034" class="chart"></canvas>
        <script>
            var obj = document.getElementById("1034");
            var ctx = obj.getContext("2d");
            ctx.scale(window.devicePixelRatio, window.devicePixelRatio);

            init_obj(obj);

            add_point(obj, 21497.5,  23.02,  2434.8, "8 Bit");
            add_point(obj, 15012.4,  20.10,  2199.4, "8 Bit Packed");
            add_point(obj, 13606.1,  19.77,  1817.5, "8 Bit 3 Sym LUT");
            add_point(obj,  6994.1,  19.11,  1705.0, "8 Bit 3 Sym LUT Short Range");
            add_point(obj, 18457.3,  20.59,  1325.0, "8 Bit Single");
            add_point(obj, 14221.0,  20.16,  1270.5, "8 Bit Packed Single");
            add_point(obj, 16863.5,  24.89,  1722.0, "16 Bit (Symbol Bound)");
            add_point(obj, 16451.9,  21.30,  1452.1, "16 Bit Packed (Symbol Bound)");
            add_point(obj, 17468.6,  24.39,  1670.5, "16 Bit (Byte Bound)");
            add_point(obj, 15516.6,  20.65,  1485.7, "16 Bit Packed (Byte Bound)");
            add_point(obj, 20043.9,  27.27,  1906.0, "24 Bit (Symbol Bound)");
            add_point(obj, 18192.7,  23.07,  1648.8, "24 Bit Packed (Symbol Bound)");
            add_point(obj, 19801.1,  25.90,  1884.7, "24 Bit (Byte Bound)");
            add_point(obj, 17670.5,  22.05,  1815.6, "24 Bit Packed (Byte Bound)");
            add_point(obj, 17347.4,  28.39,  2162.4, "32 Bit (Symbol Bound)");
            add_point(obj, 17746.9,  24.55,  1784.7, "32 Bit Packed (Symbol Bound)");
            add_point(obj, 17496.2,  27.15,  2057.2, "32 Bit (Byte Bound)");
            add_point(obj, 17818.2,  23.44,  1831.9, "32 Bit Packed (Byte Bound)");
            add_point(obj, 21104.2,  31.22,  2221.4, "48 Bit (Symbol Bound)");
            add_point(obj, 21429.6,  27.10,  2102.7, "48 Bit Packed (Symbol Bound)");
            add_point(obj, 22123.2,  29.76,  2612.1, "48 Bit (Byte Bound)");
            add_point(obj, 22210.4,  25.87,  2200.6, "48 Bit Packed (Byte Bound)");
            add_point(obj, 20578.4,  33.36,  2592.9, "64 Bit (Symbol Bound)");
            add_point(obj, 21329.9,  28.75,  2050.6, "64 Bit Packed (Symbol Bound)");
            add_point(obj, 21036.6,  31.66,  2742.4, "64 Bit (Byte Bound)");
            add_point(obj, 22019.2,  27.29,  2246.0, "64 Bit Packed (Byte Bound)");
            add_point(obj, 23432.1,  39.84,  2387.9, "128 Bit (Symbol Bound)");
            add_point(obj, 23879.3,  33.52,  2172.0, "128 Bit Packed (Symbol Bound)");
            add_point(obj, 24011.4,  37.25,  2489.4, "128 Bit (Byte Bound)");
            add_point(obj, 23977.4,  31.21,  2293.4, "128 Bit Packed (Byte Bound)");
            add_point(obj,  1456.9,  16.76,   326.5, "8 Bit RLE + Huffman-esque");
            add_point(obj,  2819.2,  26.61,  2118.5, "8 Bit MMTF 128");
            add_point(obj,  4282.1,  21.15,   799.7, "Low Entropy");
            add_point(obj,  4292.2,  21.15,   718.2, "Low Entropy Single");
            add_point(obj,  5365.7,  24.87,   799.0, "Low Entropy Short");
            add_point(obj,  5386.2,  24.87,   674.0, "Low Entropy Short Single");
            //add_point(obj,  2666.7, 100.00,  2539.3, "Multi MTF 128 Bit (Transform)");
            //add_point(obj,  4094.2, 100.00,  4064.7, "Multi MTF 256 Bit (Transform)");
            //add_point(obj, 25902.1, 100.00, 26380.3, "memcpy");

            add_point(obj,  4291.4, 17.4, 1137.2, "trle", true);
            add_point(obj,  9113.0, 20.2, 1130.2, "srle 0", true);
            add_point(obj,  9092.7, 22.0, 1863.1, "srle 8", true);
            add_point(obj, 10108.9, 27.1, 1657.0, "srle 16", true);
            add_point(obj, 13160.2, 32.7, 2910.3, "srle 32", true);
            add_point(obj, 19314.2, 39.5, 4990.2, "srle 64", true);
            add_point(obj,  3182.7, 21.0,  461.4, "mrle", true);

            add_line(obj, ["8 Bit", "16 Bit (Symbol Bound)", "24 Bit (Symbol Bound)", "32 Bit (Symbol Bound)", "48 Bit (Symbol Bound)", "64 Bit (Symbol Bound)", "128 Bit (Symbol Bound)"], colors[0] + alpha);
            add_line(obj, ["8 Bit", "16 Bit (Byte Bound)", "24 Bit (Byte Bound)", "32 Bit (Byte Bound)", "48 Bit (Byte Bound)", "64 Bit (Byte Bound)", "128 Bit (Byte Bound)"], colors[1] + alpha);
            add_line(obj, ["8 Bit Packed", "16 Bit Packed (Symbol Bound)", "24 Bit Packed (Symbol Bound)", "32 Bit Packed (Symbol Bound)", "48 Bit Packed (Symbol Bound)", "64 Bit Packed (Symbol Bound)", "128 Bit Packed (Symbol Bound)"], colors[2] + alpha);
            add_line(obj, ["8 Bit Packed", "16 Bit Packed (Byte Bound)", "24 Bit Packed (Byte Bound)", "32 Bit Packed (Byte Bound)", "48 Bit Packed (Byte Bound)", "64 Bit Packed (Byte Bound)", "128 Bit Packed (Byte Bound)"], colors[3] + alpha);
            add_line(obj, ["Low Entropy", "Low Entropy Short"], colors[4] + alpha);
            add_line(obj, ["Low Entropy Single", "Low Entropy Short Single"], colors[5] + alpha);

            add_line(obj, ["srle 0", "srle 8", "srle 16", "srle 32", "srle 64"], "#55555533");

            calc_pareto_line(obj);

            window.addEventListener("resize", () => { draw_obj(document.getElementById("1034").getContext("2d"), document.getElementById("1034")); });
            window.addEventListener("load", () => { draw_obj(document.getElementById("1034").getContext("2d"), document.getElementById("1034")); });
            obj.addEventListener("mousemove", (e) => { handle_mouseover(e, document.getElementById("1034")); });
        </script>
      </div>
      <div class="graph_container">
        <h3>enwiki.btw (wikipedia extract encoded using libdivsufsort)</h3>
        <canvas id="enwiki" class="chart"></canvas>
        <script>
            var obj = document.getElementById("enwiki");
            var ctx = obj.getContext("2d");
            ctx.scale(window.devicePixelRatio, window.devicePixelRatio);

            init_obj(obj);


            add_point(obj, 15994.7,  48.80,  1219.7, "8 Bit");
            add_point(obj,  7454.4,  44.86,  1038.7, "8 Bit Packed");
            add_point(obj,  5557.7,  43.29,   758.5, "8 Bit 3 Sym LUT");
            add_point(obj,  3034.8,  40.34,   759.9, "8 Bit 3 Sym LUT Short Range");
            //add_point(obj, 16843.4,  88.75,  1127.0, "8 Bit Single");
            //add_point(obj, 14564.1,  88.59,  1097.4, "8 Bit Packed Single");
            add_point(obj, 12708.1,  51.49,  1098.3, "16 Bit (Symbol Bound)");
            add_point(obj,  9417.5,  47.89,   886.7, "16 Bit Packed (Symbol Bound)");
            add_point(obj, 12981.9,  50.74,  1024.0, "16 Bit (Byte Bound)");
            add_point(obj,  8322.4,  46.99,   913.4, "16 Bit Packed (Byte Bound)");
            add_point(obj, 15413.8,  54.90,  1244.0, "24 Bit (Symbol Bound)");
            add_point(obj, 10041.7,  50.61,  1056.8, "24 Bit Packed (Symbol Bound)");
            add_point(obj, 14838.0,  52.73,  1196.6, "24 Bit (Byte Bound)");
            add_point(obj, 10085.5,  49.39,  1159.4, "24 Bit Packed (Byte Bound)");
            add_point(obj, 13837.0,  55.92,  1380.0, "32 Bit (Symbol Bound)");
            add_point(obj, 11767.3,  52.84,  1158.5, "32 Bit Packed (Symbol Bound)");
            add_point(obj, 14032.1,  54.27,  1327.9, "32 Bit (Byte Bound)");
            add_point(obj, 12316.8,  51.63,  1213.6, "32 Bit Packed (Byte Bound)");
            add_point(obj, 16115.9,  59.24,  1398.1, "48 Bit (Symbol Bound)");
            add_point(obj, 15370.2,  56.26,  1321.0, "48 Bit Packed (Symbol Bound)");
            add_point(obj, 16775.3,  57.58,  1557.6, "48 Bit (Byte Bound)");
            add_point(obj, 16106.6,  55.01,  1385.7, "48 Bit Packed (Byte Bound)");
            add_point(obj, 17521.9,  61.69,  1557.9, "64 Bit (Symbol Bound)");
            add_point(obj, 17252.6,  58.87,  1353.7, "64 Bit Packed (Symbol Bound)");
            add_point(obj, 17737.0,  59.94,  1606.6, "64 Bit (Byte Bound)");
            add_point(obj, 16491.9,  57.33,  1421.2, "64 Bit Packed (Byte Bound)");
            add_point(obj, 18760.9,  66.89,  1489.9, "128 Bit (Symbol Bound)");
            add_point(obj, 20061.6,  64.32,  1415.5, "128 Bit Packed (Symbol Bound)");
            add_point(obj, 19088.4,  65.39,  1512.1, "128 Bit (Byte Bound)");
            add_point(obj, 19334.9,  62.94,  1461.5, "128 Bit Packed (Byte Bound)");
            add_point(obj,  1236.2,  42.52,   271.7, "8 Bit RLE + Huffman-esque");
            add_point(obj,  1299.9,  63.49,  1101.2, "8 Bit MMTF 128");
            add_point(obj,   913.9,  64.19,   381.1, "Low Entropy");
            //add_point(obj,  7491.0,  89.22,   533.0, "Low Entropy Single");
            add_point(obj,  1403.6,  66.17,   394.1, "Low Entropy Short");
            //add_point(obj,  9809.1,  89.65,   545.2, "Low Entropy Short Single");
            //add_point(obj,  1289.8, 100.00,  1205.9, "Multi MTF 128 Bit (Transform)");
            //add_point(obj,  1966.1, 100.00,  2012.2, "Multi MTF 256 Bit (Transform)");
            //add_point(obj, 25742.6, 100.00, 25684.9, "memcpy");

            add_point(obj,  2341.0, 42.4,  697.6, "trle", true);
            add_point(obj,  6341.4, 46.9,  680.6, "srle 0", true);
            add_point(obj,  6310.3, 46.9,  858.6, "srle 8", true);
            add_point(obj,  8818.9, 54.4,  906.4, "srle 16", true);
            add_point(obj, 13030.9, 61.0, 1766.0, "srle 32", true);
            add_point(obj, 18660.4, 66.8, 3289.0, "srle 64", true);
            add_point(obj,  1131.5, 64.1,  320.2, "mrle", true);

            add_line(obj, ["8 Bit", "16 Bit (Symbol Bound)", "24 Bit (Symbol Bound)", "32 Bit (Symbol Bound)", "48 Bit (Symbol Bound)", "64 Bit (Symbol Bound)", "128 Bit (Symbol Bound)"], colors[0] + alpha);
            add_line(obj, ["8 Bit", "16 Bit (Byte Bound)", "24 Bit (Byte Bound)", "32 Bit (Byte Bound)", "48 Bit (Byte Bound)", "64 Bit (Byte Bound)", "128 Bit (Byte Bound)"], colors[1] + alpha);
            add_line(obj, ["8 Bit Packed", "16 Bit Packed (Symbol Bound)", "24 Bit Packed (Symbol Bound)", "32 Bit Packed (Symbol Bound)", "48 Bit Packed (Symbol Bound)", "64 Bit Packed (Symbol Bound)", "128 Bit Packed (Symbol Bound)"], colors[2] + alpha);
            add_line(obj, ["8 Bit Packed", "16 Bit Packed (Byte Bound)", "24 Bit Packed (Byte Bound)", "32 Bit Packed (Byte Bound)", "48 Bit Packed (Byte Bound)", "64 Bit Packed (Byte Bound)", "128 Bit Packed (Byte Bound)"], colors[3] + alpha);
            add_line(obj, ["Low Entropy", "Low Entropy Short"], colors[4] + alpha);
            //add_line(obj, ["Low Entropy Single", "Low Entropy Short Single"], colors[5] + alpha);

            add_line(obj, ["srle 0", "srle 8", "srle 16", "srle 32", "srle 64"], "#55555533");

            calc_pareto_line(obj);

            window.addEventListener("resize", () => { draw_obj(document.getElementById("enwiki").getContext("2d"), document.getElementById("enwiki")); });
            window.addEventListener("load", () => { draw_obj(document.getElementById("enwiki").getContext("2d"), document.getElementById("enwiki")); });
            obj.addEventListener("mousemove", (e) => { handle_mouseover(e, document.getElementById("enwiki")); });
        </script>
      </div>
    </div>
  </body>
</html>